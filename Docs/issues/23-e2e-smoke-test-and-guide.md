### 背景／目的
MVPの手動テスト手順と自動スモーク（起動/主要フロー）を整備し、品質を担保する。
参照: Docs/01_要件定義書.md, Docs/02_アーキテクチャ設計書.md

- 依存： #18
- ラベル：test, docs

### スコープ / 作業項目
- 手順書（起動→カメラ→推定→送信）の最小チェックリスト作成
- CIでの最低限スモークの実装（起動/ビルド/簡易実行）
- 既知の制約/注意事項の明記

### ゴール / 完了条件(Acceptance Criteria)
- [ ] 手順書にMVP確認項目が列挙されている
- [ ] CIで最低限のスモークが実行される
- [ ] 主要フロー（起動→カメラ→送信）が手順書で再現可能

### テスト観点
- E2E: 通し確認
- 検証方法: 手順書に沿って人手確認＋CI結果参照

(必要なら) 要確認事項:
- CIでのUI操作可否/代替策

---

## 手動スモーク手順（v0）

目的: 最低限「起動できる」「主要ログ/エラーが出ない」ことを確認する。現時点ではカメラ/推定/送信は未実装のため、該当項目はプレースホルダーとして記載する。

前提:
- Node.js LTS（推奨）
- Rust（stable）/ cargo
- 依存導入済み（ルートと `app/` の `npm ci` 済み）

チェックリスト（起動）
- [ ] ルートで `npm run dev` を実行し、Tauri ウィンドウが起動する
- [ ] ウィンドウタイトルが「MotionCast」になっている
- [ ] 画面に「MotionCast」「初期化済みの空画面です。」が表示される
- [ ] コンソール（開発者ツール / ターミナル）にエラーが出ていない

チェックリスト（カメラ）【一部実装済: #5】
- [ ] 初回起動時、カメラ権限ダイアログが表示される（OS依存）
- [x] カメラの開始/停止ができる（UIボタン）
- [x] プレビュー領域に映像が表示される
- [x] デバイス選択が可能で、切替時に再取得される
 - [x] 実測の解像度/FPSが表示される（開始後に更新）

チェックリスト（推定）【未実装: #6/#13】
- [ ] 推定の開始/停止ができる
- [ ] CPU負荷が想定範囲内（メモ: 後で閾値を定義）
- [ ] エラー発生時にユーザ向けメッセージが表示される

チェックリスト（送信/OSC）【未実装: #10/#3】
- [ ] 送信先IP/ポートを入力できる
- [ ] 送信の開始/停止ができる
- [ ] 受信側で最低限のパラメータを受信確認（別途手順化）

既知の制約/注意事項（v0）
- カメラは最小実装（固定: 1280x720/30fps）。解像度/FPSのUI反映は未実装。
- 推定/送信は別Issueで実装予定。現時点では起動＋カメラプレビューのみ対象。
- macOS の配布にはコード署名/公証が必要（CIは未対応）。
- UI 構造は `Docs/frontend_sample.html` を準拠とし、差分最小で進める。

トラブルシュート（起動時）
- Tauri で Rust が見つからない: `rustup` をセットアップし、シェルを再起動
- 開発ウィンドウが起動しない: ルートで `npm run app:dev` を実行し、`http://localhost:5173` が起動するか確認
- 依存が解決できない: ルートと `app/` で `npm ci` を再実行

検証記録テンプレート
```
日時: 2025-09-02
OS/CPU/GPU: macOS 15 / M2 Pro
Node/Rust: v20.x / 1.7x
結果:
- 起動: 成功（約2.5s）
- カメラ: N/A（未実装）
- 推定: N/A（未実装）
- 送信: N/A（未実装）
ログ/備考:
- エラーなし
```

## CI スモーク（ドラフト）

目的: PR/コミット時に最低限のビルド健全性を担保する。

方針（最小）
- `app/` で Lint/Format チェックと Vite ビルドを実行
- `src-tauri/` で `cargo check` を実行（フルバンドルは後続Issue）

想定ワークフロー（.github/workflows/smoke.yml）
- Ubuntu 最新で実行
- Node 20 を使用（Vite 7 互換）
- Rust stable を使用

今後の拡張
- macOS での `tauri build`（署名なしのデバッグビルド）
- 受信側モックを用いた簡易送信テスト（#10 進行後）
