---
issue: 5
---
## 目的 / 対象 / 背景
- 目的: 手首→指のトラッキングを段階導入し、品質を保ちながら機能を拡張する。
- 対象: 推定（Hands/手首姿勢）とOSC/VMC送信（指ボーン）。
- 背景: 指はノイズ/欠損が多く、安定化レイヤー（#24）なしでは不自然なスナップが起きやすい。

## 段階導入（フェーズ）
- フェーズA: 手首の安定化強化（既存の上半身推定で十分か評価）→ VMCへ安定化済み手首を送信。
- フェーズB: 指の粗いグルーピング（握り/開き・親指/人差し/中指の主要3群）を送信。
- フェーズC: 全指（親/人/中/薬/小、各Proximal/Intermediate/Distal）をVMCボーンへ送信。

## スコープ / 作業項目
- Hands推定の選定/導入（MediaPipe Hands / Tasks-Vision 等）とパイプライン統合。
- #24 の安定化レイヤーを手首/指にも適用（ゲート/ホールド/フェード/クランプ）。
- VMCボーン名へのマッピング（例: `LeftThumbProximal`, `LeftIndexIntermediate`, ...）。
- 座標系補正（既存のZ軸基底反転を踏襲、必要に応じて軸/符号をボーン別微調整）。
- UIで段階を切替（A→B→C）し、負荷/品質を比較可能に。

## 受け入れ基準（Acceptance Criteria）
- [ ] フェーズA: 手首が画面外/遮蔽でも自然に停止・復帰。VMCで手首回転が安定適用。
- [ ] フェーズB: 指の粗いグルーピングが自然に動作し、欠損時に暴れない。
- [ ] フェーズC: 全指送信時でも破綻や著しい遅延がない（30fps目安）。
- [ ] 各フェーズでUIからON/OFF/切替ができ、比較が容易。

## 依存 / 関連
- 依存: #24（安定化レイヤー）, #12（スムージング）, #16（UIパラメータ）, #22（メトリクス）
- 参照: `Docs/issues/14-vrm-bone-mapping-upper-body.md`（手用の拡張が必要）

## テスト観点
- 片手のみ/両手、手の出入り、高速動作、クロスボディ遮蔽での自然さ。
- VMC受信（PlayerScript）で手首/指が期待通りに適用されるか（向き/回転範囲）。

## 未決事項（Open）
- Handsの実装/モデルの選定（負荷と品質のバランス）。
- 指ボーン単位の座標系/軸の個別補正の有無。

